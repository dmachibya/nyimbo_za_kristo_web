<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nyimbo za Kristo App</title>
    
</head>
<body onload="">
    <div id="output"></div>
<script>
    loadDoc()

    var songs;
    var titles = [];
    var titles_lower = [];

function loadDoc() {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
        songs = JSON.parse(this.responseText);
        
        trim(songs);
        }
    };
    xhttp.open("GET", "swahili.json", true);
    xhttp.send();
}
new_array = [];
function trim(songs){
    console.log(songs[0]);

    var str = "World";
    // str = str.slice(0, 3) + str.slice(4);
    console.log(str.slice(2))

    songs.forEach(element => {
        content = element.content;
        
        indexStart = content.indexOf("<h1>");
        // console.log("start at:"+indexStart);

        indexEnd = content.indexOf("</h1>");
        // console.log("end at:"+indexEnd);
        // console.log(content.slice(indexEnd+5));
        new_content = content.slice(indexEnd+5);
        element.content = new_content;

        new_array.push(element);
    });

    // console.log(new_array[0]);
    console.log(JSON.stringify(new_array));
}



</script>
</body>
</html>